<ng-template #formTemplate>
  <form class="box center" [formGroup]="form" (ngSubmit)="onSubmitForm()">
    <div class="field">
      <label for="title" data-css-h2 data-css-font data-css-color>Titre</label>

      <div data-css-text-bar data-css-border-radius="rounded">
        <input id="title" type="text" placeholder="Saisissez le titre" data-css-input formControlName="title">

        <div class="line" data-css-underline>
          <div data-css-underline></div>
        </div>
        <span class="icofont-info-circle" data-css-icofont></span>
      </div>
    </div>

    <div class="field column error">
      <p *ngIf="form.get('title')?.invalid && form.get('title')?.hasError('required')" data-css-error>
        <i class="icofont-close-circled"></i>
        Le champs est obligatoire
      </p>
      <p *ngIf="form.get('title')?.invalid && form.get('title')?.hasError('minlength')" data-css-error>
        <i class="icofont-close-circled"></i>
        La taille du titre doit être de minimum {{
        this.form.get('title')?.errors?.['minlength']?.requiredLength }} caractères
      </p>
      <p *ngIf="form.get('title')?.invalid && form.get('title')?.hasError('maxlength')" data-css-error>
        <i class="icofont-close-circled"></i>
        La taille du titre doit être de maximum {{
        this.form.get('title')?.errors?.['maxlength']?.requiredLength }} caractères
      </p>
    </div>

    <div class="field">
      <label for="description" data-css-h2 data-css-font data-css-color>Description</label>

      <textarea id="description" name="description" rows="5" cols="30"
        placeholder="Saisissez la description de votre carte" formControlName="description" data-css-textarea
        data-css-border-radius="regular"></textarea>
    </div>

    <div class="field column error">
      <p *ngIf="form.get('description')?.invalid && form.get('description')?.hasError('required')" data-css-error>
        <i class="icofont-close-circled"></i>
        Le champs est obligatoire
      </p>
      <p *ngIf="form.get('description')?.invalid && form.get('description')?.hasError('minlength')" data-css-error>
        <i class="icofont-close-circled"></i>
        La taille de la description doit être de minimum {{
        this.form.get('description')?.errors?.['minlength']?.requiredLength }} caractères
      </p>
      <p *ngIf="form.get('description')?.invalid && form.get('description')?.hasError('maxlength')" data-css-error>
        <i class="icofont-close-circled"></i>
        La taille de la description doit être de maximum {{
        this.form.get('description')?.errors?.['maxlength']?.requiredLength }} caractères
      </p>
    </div>

    <div class="field column">
      <button type="submit" data-css-important data-css-accent data-css-button data-css-event
        data-css-border-radius="rounded">
        <div data-css-inter>
          Proposer
        </div>
      </button>

      <app-shared-interactive-button link="../" [important]="true" text="Annuler">
      </app-shared-interactive-button>
    </div>
  </form>
</ng-template>

<app-view-page-form title="Proposer une carte" [formTemplate]="formTemplate"></app-view-page-form>